<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
</head>
<body>
		<!-- create a simple login view -->
		<form id="login-form">
			<input type="email" name="email" placeholder="Email">
			<input type="password" name="password" placeholder="Password">
			<button type="submit" name="submit">Login</button>
		</form>

		<!-- create a simple register view -->
		<!-- <form id="register-form">
			<input type="text" name="username" placeholder="Username">
			<input type="email" name="email" placeholder="Email">
			<input type="password" name="password" placeholder="Password">
			<button type="submit" name="submit">Register</button>
		</form> -->

		<script>
			const LOGIN_URL = 'http://localhost:3000/api/user/login';
			const REGISTER_URL = 'http://localhost:3000/api/user/register';

			document.querySelector('#login-form').addEventListener('submit', (e) => {
				e.preventDefault();
				const email = document.querySelector('input[name="email"]').value;
				const password = document.querySelector('input[name="password"]').value;
				const data = { email, password };

				// send the data to the server enabling CORS
				fetch(LOGIN_URL, {
					method: 'POST',
					body: JSON.stringify(data),
					// pass the headers with cross and cookies
					headers: {
						'Content-Type': 'application/json',
						'Access-Control-Allow-Origin': '*',
					},
				}).then((res) => res.json())
					.then((data) => console.log(data))
					.catch((err) => console.log("Err: " +err));
			});

			// handle the register form
			// document.querySelector('#register-form').addEventListener('submit', (e) => {
			// 	e.preventDefault();
			// 	const username = document.querySelector('input[name="username"]').value;
			// 	const email = document.querySelector('input[name="email"]').value;
			// 	const password = document.querySelector('input[name="password"]').value;
			// 	const data = { username, email, password };

			// 	// send the data to the server enabling CORS
			// 	fetch(REGISTER_URL, {
			// 		method: 'POST',
			// 		body: JSON.stringify(data),
			// 		headers: {
			// 			'Content-Type': 'application/json',
			// 			'Access-Control-Allow-Origin': '*',
			// 		},
			// 	})
			// 		.then((res) => res.json())
			// 		.then((data) => console.log(data))
			// 		.catch((err) => console.log("Err: " +err));
			// });

		</script>

</body>
</html>